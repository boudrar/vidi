Marionette.AppRouter=Backbone.Router.extend({constructor:function(t){Backbone.Router.apply(this,arguments),this.options=t||{};var o=this.getOption("appRoutes"),e=this._getController();this.processAppRoutes(e,o),this.on("route",this._processOnRoute,this)},appRoute:function(t,o){var e=this._getController();this._addAppRoute(e,t,o)},_processOnRoute:function(t,o){var e=_.invert(this.getOption("appRoutes"))[t];_.isFunction(this.onRoute)&&this.onRoute(t,e,o)},processAppRoutes:function(t,o){if(o){var e=_.keys(o).reverse();_.each(e,function(e){this._addAppRoute(t,e,o[e])},this)}},_getController:function(){return this.getOption("controller")},_addAppRoute:function(t,o,e){var n=t[e];if(!n)throw new Marionette.Error('Method "'+e+'" was not found on the controller');this.route(o,e,_.bind(n,t))},getOption:Marionette.proxyGetOption});